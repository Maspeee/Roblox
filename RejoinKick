--	Services  ------------------------------------
--------------------------------------------------

local Players = game:GetService("Players")
local TpS = game:GetService("TeleportService")
local Core = game:GetService("CoreGui")

--	Variables  -----------------------------------
--------------------------------------------------

local plr = Players.LocalPlayer

local placeId = game.PlaceId
local jobId = game.JobId

--	Main  ----------------------------------------
--------------------------------------------------

function left(_plr)
    if plr ~= _plr then return end
    if not Core.RobloxPromptGui.promptOverlay:WaitForChild("ErrorPrompt", 5) then return end
    
    local success

    while not success do
        success = pcall(TpS.TeleportToPlaceInstance, TpS, placeId, jobId)
    end
end

--------------------------------------------------

Players.PlayerRemoving:Connect(left)
